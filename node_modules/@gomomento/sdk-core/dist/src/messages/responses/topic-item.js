"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TopicItem = void 0;
const utils_1 = require("../../internal/utils");
/**
 * Represents the data received from a topic subscription.
 *
 * @remarks A subscription is created by calling {@link TopicClient.subscribe}.
 * The value is guaranteed to be either a {@link string} or a {@link Uint8Array}.
 * Call the appropriate accessor if you know the type of the value.
 */
class TopicItem {
    constructor(_value) {
        this._value = _value;
    }
    /**
     * Returns the data read from the stream.
     * @returns string | Uint8Array
     */
    value() {
        return this._value;
    }
    /**
     * Returns the data read from the stream as a {@link string}.
     * @returns string
     */
    valueString() {
        return this.value().toString();
    }
    /**
     * Returns the data read from the stream as a {@link Uint8Array}.
     * @returns Uint8Array
     */
    valueUint8Array() {
        return this.value();
    }
    toString() {
        const display = (0, utils_1.truncateString)(this.value().toString());
        return `${this.constructor.name}: ${display}`;
    }
}
exports.TopicItem = TopicItem;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9waWMtaXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tZXNzYWdlcy9yZXNwb25zZXMvdG9waWMtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxnREFBb0Q7QUFFcEQ7Ozs7OztHQU1HO0FBQ0gsTUFBYSxTQUFTO0lBRXBCLFlBQVksTUFBMkI7UUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUNEOzs7T0FHRztJQUNJLEtBQUs7UUFDVixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsQ0FBQztJQUVEOzs7T0FHRztJQUNJLFdBQVc7UUFDaEIsT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNJLGVBQWU7UUFDcEIsT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFnQixDQUFDO0lBQ3BDLENBQUM7SUFFTSxRQUFRO1FBQ2IsTUFBTSxPQUFPLEdBQUcsSUFBQSxzQkFBYyxFQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0NBQ0Y7QUFqQ0QsOEJBaUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0cnVuY2F0ZVN0cmluZ30gZnJvbSAnLi4vLi4vaW50ZXJuYWwvdXRpbHMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSBhIHRvcGljIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAcmVtYXJrcyBBIHN1YnNjcmlwdGlvbiBpcyBjcmVhdGVkIGJ5IGNhbGxpbmcge0BsaW5rIFRvcGljQ2xpZW50LnN1YnNjcmliZX0uXG4gKiBUaGUgdmFsdWUgaXMgZ3VhcmFudGVlZCB0byBiZSBlaXRoZXIgYSB7QGxpbmsgc3RyaW5nfSBvciBhIHtAbGluayBVaW50OEFycmF5fS5cbiAqIENhbGwgdGhlIGFwcHJvcHJpYXRlIGFjY2Vzc29yIGlmIHlvdSBrbm93IHRoZSB0eXBlIG9mIHRoZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvcGljSXRlbSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3ZhbHVlOiBzdHJpbmcgfCBVaW50OEFycmF5O1xuICBjb25zdHJ1Y3RvcihfdmFsdWU6IHN0cmluZyB8IFVpbnQ4QXJyYXkpIHtcbiAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGF0YSByZWFkIGZyb20gdGhlIHN0cmVhbS5cbiAgICogQHJldHVybnMgc3RyaW5nIHwgVWludDhBcnJheVxuICAgKi9cbiAgcHVibGljIHZhbHVlKCk6IHN0cmluZyB8IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkYXRhIHJlYWQgZnJvbSB0aGUgc3RyZWFtIGFzIGEge0BsaW5rIHN0cmluZ30uXG4gICAqIEByZXR1cm5zIHN0cmluZ1xuICAgKi9cbiAgcHVibGljIHZhbHVlU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUoKS50b1N0cmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRhdGEgcmVhZCBmcm9tIHRoZSBzdHJlYW0gYXMgYSB7QGxpbmsgVWludDhBcnJheX0uXG4gICAqIEByZXR1cm5zIFVpbnQ4QXJyYXlcbiAgICovXG4gIHB1YmxpYyB2YWx1ZVVpbnQ4QXJyYXkoKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUoKSBhcyBVaW50OEFycmF5O1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZGlzcGxheSA9IHRydW5jYXRlU3RyaW5nKHRoaXMudmFsdWUoKS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfTogJHtkaXNwbGF5fWA7XG4gIH1cbn1cbiJdfQ==